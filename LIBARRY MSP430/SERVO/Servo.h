/**********************************************************************************************************************

LIBARRY: Servo.h
FUNCTION: Servo motor control with MSP430G2553
CREATED: 27/5/2024 by Nguyen Nhut Khanh - Co Dien Tu CTU (^_^)

**********************************************************************************************************************/




/*-----------------------------------------------------------------------------*/
/* Control Servo */
/*-----------------------------------------------------------------------------*/
  
/*      cycles : 20ms
      _
     | |
     | |
  ___| |____           Ton = 480us      ==> angle: 0

................
      ___
     |  |
     |  |
  ___|  |____          Ton = 1.5ms      ==> angle: 90


 ...........
      ____
     |    |
     |    |
  ___|    |____        Ton = 2.6      ==> angle: 180
 
*/





/*-----------------------------------------------------------------------------*/
/* Local Constant definitions */
/*-----------------------------------------------------------------------------*/
#define TIMER0   0x10
#define TIMER1   0x11


/*-----------------------------------------------------------------------------*/
/* To use Sevro, you need to define the correct Timer with the servo control pin

  TIMER_CONTROL_SERVO   TIMER0   ( Timer0 control pin P1.2, P1.6 và dong thoi P1.2 + P1.6 )  
or
  TIMER_CONTROL_SERVO   TIMER1    ( Timer1 control pin P2.1, P2.2 và dong thoi P2.1 + P2.2   
                                                       P2.4, P2.5 và dong thoi P2.4 + P2.5) */
/*-----------------------------------------------------------------------------*/

#define TIMER_CONTROL_SERVO     TIMER1




/*-----------------------------------------------------------------------------*/
/* PIN_SERVO WITH TIMER0 */
/*-----------------------------------------------------------------------------*/
#define P1_2    12
#define P1_6    16
#define P1_2_6  126
/*-----------------------------------------------------------------------------*/




/*-----------------------------------------------------------------------------*/
/* PIN_SERVO WITH TIMER0 */
/*-----------------------------------------------------------------------------*/
#define P2_1    21
#define P2_2    22
#define P2_1_2  212

#define P2_4    24
#define P2_5    25
#define P2_4_5  245
/*-----------------------------------------------------------------------------*/





/*-----------------------------------------------------------------------------*/
/* Function prototypes */
/*-----------------------------------------------------------------------------*/
void Servo_Init( unsigned char Pin_Servo );  // NOTE: Can #define TIMER_CONTROL_SERVO dung de Servo vo the hoat dong

void Servo_Angle(unsigned char Pin_Servo, unsigned char angle);

long map(long x, long input_min, long input_max, long output_min, long output_max);

/*-----------------------------------------------------------------------------*/